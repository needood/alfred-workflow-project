{"version":3,"sources":["../../src/tests/init.spec.ts"],"names":["sinon","require","fs","t","cwdSpy","stub","process","returns","fsWriteSpy","ADR","init","deepEqual","calledOnce","calledWith","restore"],"mappings":";;;;AAGA;;AACA;;AAJA,IAAIA,KAAK,GAAGC,OAAO,SAAnB;;AACA,IAAIC,EAAE,GAAGD,OAAO,MAAhB;;AAKA,kBAAK,sBAAL,EAA6BE,CAAC,IAAI;AAChC,MAAIC,MAAM,GAAGJ,KAAK,CAACK,IAAN,CAAWC,OAAX,EAAoB,KAApB,EAA2BC,OAA3B,CAAmC,OAAnC,CAAb;AACA,MAAIC,UAAU,GAAGR,KAAK,CAACK,IAAN,CAAWH,EAAX,EAAe,eAAf,CAAjB;;AAEAO,eAAIC,IAAJ,CAAS,SAAT;;AACAP,EAAAA,CAAC,CAACQ,SAAF,CAAYH,UAAU,CAACI,UAAvB,EAAmC,IAAnC;AACAT,EAAAA,CAAC,CAACQ,SAAF,CAAYH,UAAU,CAACK,UAAX,CAAsB,iBAAtB,EAAyC,gEAAzC,CAAZ,EAAwH,IAAxH;AACAT,EAAAA,MAAM,CAACU,OAAP;AACAN,EAAAA,UAAU,CAACM,OAAX;AACD,CATD;AAWA,kBAAK,cAAL,EAAqBX,CAAC,IAAI;AACxB,MAAIC,MAAM,GAAGJ,KAAK,CAACK,IAAN,CAAWC,OAAX,EAAoB,KAApB,EAA2BC,OAA3B,CAAmC,OAAnC,CAAb;AACA,MAAIC,UAAU,GAAGR,KAAK,CAACK,IAAN,CAAWH,EAAX,EAAe,eAAf,CAAjB;;AAEAO,eAAIC,IAAJ,CAAS,IAAT;;AACAP,EAAAA,CAAC,CAACQ,SAAF,CAAYH,UAAU,CAACI,UAAvB,EAAmC,IAAnC;AACAT,EAAAA,CAAC,CAACQ,SAAF,CAAYH,UAAU,CAACK,UAAX,CAAsB,iBAAtB,EAAyC,6DAAzC,CAAZ,EAAqH,IAArH;AACAT,EAAAA,MAAM,CAACU,OAAP;AACAN,EAAAA,UAAU,CAACM,OAAX;AACD,CATD","sourcesContent":["let sinon = require('sinon')\nlet fs = require('fs')\n\nimport test from 'ava'\nimport ADR from 'adr'\n\ntest('ADR: init in chinese', t => {\n  let cwdSpy = sinon.stub(process, 'cwd').returns('/test')\n  let fsWriteSpy = sinon.stub(fs, 'writeFileSync')\n\n  ADR.init('chinese')\n  t.deepEqual(fsWriteSpy.calledOnce, true)\n  t.deepEqual(fsWriteSpy.calledWith('/test/.adr.json', '{\"language\":\"zh-cn\",\"path\":\"docs/adr/\",\"prefix\":\"\",\"digits\":4}'), true)\n  cwdSpy.restore()\n  fsWriteSpy.restore()\n})\n\ntest('ADR: init en', t => {\n  let cwdSpy = sinon.stub(process, 'cwd').returns('/test')\n  let fsWriteSpy = sinon.stub(fs, 'writeFileSync')\n\n  ADR.init('en')\n  t.deepEqual(fsWriteSpy.calledOnce, true)\n  t.deepEqual(fsWriteSpy.calledWith('/test/.adr.json', '{\"language\":\"en\",\"path\":\"docs/adr/\",\"prefix\":\"\",\"digits\":4}'), true)\n  cwdSpy.restore()\n  fsWriteSpy.restore()\n})\n"],"file":"init.spec.js"}